{"version":3,"file":"type-quiz/index.js","mappings":"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","sources":["webpack://tailpress/./flexible-content/src/type-quiz/edit.js","webpack://tailpress/external window \"React\"","webpack://tailpress/external window [\"wp\",\"blockEditor\"]","webpack://tailpress/external window [\"wp\",\"blocks\"]","webpack://tailpress/external window [\"wp\",\"components\"]","webpack://tailpress/external window [\"wp\",\"element\"]","webpack://tailpress/webpack/bootstrap","webpack://tailpress/webpack/runtime/compat get default export","webpack://tailpress/webpack/runtime/define property getters","webpack://tailpress/webpack/runtime/hasOwnProperty shorthand","webpack://tailpress/webpack/runtime/make namespace object","webpack://tailpress/./flexible-content/src/type-quiz/index.js"],"sourcesContent":["/**\n * WordPress components that create the necessary UI elements for the block\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-components/\n */\nimport { TextControl, Flex, FlexBlock, FlexItem, Button, Icon } from '@wordpress/components';\n// import { __experimentalInputControl as InputControl } from '@wordpress/components';\n\n/**\n * React hook that is used to mark the block wrapper element.\n * It provides all the necessary props like the className name.\n *\n * @see https://developer.wordpress.org/block-editor/packages/packages-block-editor/#useBlockProps\n */\nimport { useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Import hooks from element\n * \n */\nimport { useState } from '@wordpress/element';\nimport { useEffect } from 'react';\n\n\n/**\n * Function to control page wide logic\n * \n */\n(function() {\n    let locked = false;\n    console.log(\"ran\")\n\n    // TODO import all used here into module before this function\n\n    wp.data.subscribe(() => {\n        const results = wp.data.select(\"core/block-editor\").getBlocks().filter((block) => {\n            return block.name === \"edgepress/quiz\" && block.attributes.correctAnswer == undefined;\n        })\n\n        if (results.length && locked == false) {\n            locked = true\n            wp.data.dispatch(\"core/editor\").lockPostSaving(\"noanswer\")\n        }\n\n        if (!results.length && locked) {\n            locked = false\n            wp.data.dispatch(\"core/editor\").unlockPostSaving(\"noanswer\")\n        }\n    })\n})();\n\n/**\n * The edit function describes the structure of your block in the context of the\n * editor. This represents what the editor will render when the block is used.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/block-edit-save/#edit\n *\n * @param {Object}   props               Properties passed to the function.\n * @param {Object}   props.attributes    Available block attributes.\n * @param {Function} props.setAttributes Function that updates individual attributes.\n *\n * @return {WPElement} Element to render.\n */\nexport default function Edit({ attributes, setAttributes }) {\n    const blockProps = useBlockProps({\n        className: 'border border-solid border-slate-600 p-4 bg-slate-200 rounded'\n    });\n\n    const { question, answers, correctAnswer } = attributes;\n\n    const deleteAnswer = (indexToDelete) => {\n        const newAnswers = answers.filter((value, index) => {\n            return index !== indexToDelete;\n        })\n\n        if (indexToDelete == correctAnswer) {\n            setAttributes({ correctAnswer: undefined });\n        }\n\n        setAttributes({ answers: newAnswers });\n    }\n\n    const markCorrect = (indexToMark) => {\n        setAttributes({ correctAnswer: indexToMark });\n    }\n\n    return (\n        <div {...blockProps}>\n            <TextControl\n                placeholder='Type your question here...'\n                value={question}\n                onChange={(value) => {\n                    setAttributes({\n                        question: value\n                    })\n                }}\n                label={\"Question\"}\n            />\n            <p>Answers:</p>\n            {\n                answers.map((answer, index) => {\n                    return (\n                        <Flex>\n                            <FlexBlock>\n                                <TextControl value={answer} onChange={(value) => {\n                                    let newArr = answers.concat([]);\n                                    newArr[index] = value;\n\n                                    setAttributes({\n                                        answers: newArr\n                                    });\n                                }}\n                                    placeholder={`Answer ${index + 1}`}\n                                    autoFocus={answer === undefined}\n                                />\n                            </FlexBlock>\n                            <FlexItem className='mb-2'>\n                                <Button className='child:hover:text-amber-600' onClick={() => markCorrect(index)}>\n                                    <Icon className=\"text-amber-400\" icon={correctAnswer == index ? \"star-filled\" : \"star-empty\"} />\n                                </Button>\n                            </FlexItem>\n                            <FlexItem className='mb-2'>\n                                <Button isLink className='text-red-500 hover:text-red-700' onClick={() => deleteAnswer(index)}>Delete</Button>\n                            </FlexItem>\n                        </Flex>\n                    );\n                })\n            }\n            <Button isPrimary className='mt-6' onClick={() => {\n                setAttributes({ answers: answers.concat([undefined]) });\n            }}>\n                Add Another Answer\n            </Button>\n        </div>\n    );\n}","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\n import { registerBlockType } from '@wordpress/blocks';\n\n /**\n  * Internal dependencies\n  */\n import Edit from './edit';\n import metadata from './block.json';\n \n document.addEventListener(\"DOMContentLoaded\", () => {\n   /**\n   * Every block starts by registering a new block type definition.\n   *\n   * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n   */\n   registerBlockType(metadata.name, {\n     /** \n      * Used to construct a preview for the block to be shown in the block inserter.\n      */\n     example: {\n       attributes: {\n       },\n     },\n     title: metadata.title,\n     /**\n      * @see ./edit.js\n      */\n     edit: Edit,\n     /**\n      * Return null to use PHP file\n      */\n     save: () => {\n       return null;\n     },\n   });\n })\n "],"names":["TextControl","Flex","FlexBlock","FlexItem","Button","Icon","useBlockProps","useState","useEffect","locked","console","log","wp","data","subscribe","results","select","getBlocks","filter","block","name","attributes","correctAnswer","undefined","length","dispatch","lockPostSaving","unlockPostSaving","Edit","setAttributes","blockProps","className","question","answers","deleteAnswer","indexToDelete","newAnswers","value","index","markCorrect","indexToMark","map","answer","newArr","concat","registerBlockType","metadata","document","addEventListener","example","title","edit","save"],"sourceRoot":""}